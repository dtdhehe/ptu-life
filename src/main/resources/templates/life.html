<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>生活</title>
    <!-- bootstrap基础 -->
    <link rel="stylesheet"
          th:href="@{/js/bootstrap/css/bootstrap.min.css}" />
    <link rel="stylesheet"
          th:href="@{/js/bootstrap/css/font-awesome.min.css}" />
    <link rel="stylesheet" th:href="@{/js/bootstrap/css/animate.css}" />
    <!-- bootstrap-table列表 -->
    <link rel="stylesheet"
          th:href="@{/js/bootstrap/css/bootstrap-table.css}" />
    <!-- layui -->
    <link rel="stylesheet"
          th:href="@{/js/layui/css/layui.css}" />
    <style type="text/css">
        #newsDesc img{
            display: none;
        }
    </style>
</head>
<body style="background-color: #efefda">
    <!--导航栏-->
    <nav class="navbar-inverse visible-lg visible-md" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="http://www.ptu.edu.cn/">莆田学院</a>
            </div>
            <div>
                <ul class="nav navbar-nav">
                    <li><a th:href="@{/ptu/homePageController/home}">首页</a></li>
                    <li class="active"><a>生活</a></li>
                </ul>
            </div>
            <div id="loginBtn" style="display: none;">
                <button type="button" class="btn btn-warning pull-right" style="margin-top: 10px" th:onclick="|loginStatus('regist')|">注册</button>
                <button type="button" class="btn btn-info pull-right" style="margin-top: 10px"  th:onclick="|loginStatus('login')|">登录</button>
            </div>
            <div id="logoutBtn" style="display: none;">
                <button type="button" class="btn btn-success pull-right" style="margin-top: 10px" th:onclick="|loginStatus('logout')|">退出登录</button>
            </div>
        </div>
    </nav>
    <!--引入头文件-->
    <div th:replace="head.html"></div>
    <!--主体页面   新闻和标签-->
    <div class="container">
        <div class="row clearfix">
            <!--新闻列表-->
            <div class="col-md-8 column">
                <div class="media well">
                    <div class="media-body">
                        <h4 class="media-heading">
                            <a href="#"> 食堂鱼为什么不刮鱼鳞?</a><span style="margin-left: 200px"><strong>第四餐厅</strong></span>
                        </h4>  新闻一的内容： Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
                        <p style="margin-top: 10px"><img alt="140x140" style="width: 30px; height: 30px;margin-right: 10px" src="http://ibootstrap-file.b0.upaiyun.com/lorempixel.com/140/140/default.jpg" class="img-circle" />dtdhehe</p>
                    </div>
                </div>
                <div class="media well">
                    <div class="media-body">
                        <h4 class="media-heading">
                            <a href="#"> 金荣楼为什么没有空调?</a><span style="margin-left: 200px"><strong>教学楼</strong></span>
                        </h4>  新闻二的内容： Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
                        <p style="margin-top: 10px"><img alt="140x140" style="width: 30px; height: 30px;margin-right: 10px" src="http://ibootstrap-file.b0.upaiyun.com/lorempixel.com/140/140/default.jpg" class="img-circle" />dtdhehe</p>
                    </div>
                </div>
                <div class="media well">
                    <a href="#" class="pull-left"><img src="http://ibootstrap-file.b0.upaiyun.com/lorempixel.com/64/64/default.jpg" width="100px" height="100px" class="media-object" alt='' /></a>
                    <div class="media-body">
                        <h4 class="media-heading">
                            <a href="#"> Nested media heading问答三</a><span style="margin-left: 200px"><strong>第四餐厅</strong></span>
                        </h4> 新闻三的内容： Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
                    </div>
                </div>
                <!--默认10条新闻，小于10条，不显示此按钮-->
                <button type="button" class="btn btn-default" style="height: 40px;width: 100%">加载更多</button>
            </div>

            <!--热门标签-->
            <div class="col-md-4 column">
                <!--热门标签-->
                <!--引入标签html代码-->
                <div th:replace="hotLabel.html"></div>
                <!--热门问答-->
                <div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 class="panel-title">
                                热门问答
                                <span style="float:right;margin-right: 10px">热度</span>
                            </h3>
                        </div>
                        <div class="panel-body">
                            <a href="#">食堂鱼为什么不刮鱼鳞</a>
                            <span style="float:right;margin-right: 20px">80</span>
                        </div>
                        <div class="panel-footer">
                            <a href="#"> 金荣楼为什么没有空调</a>
                            <span style="float:right;margin-right: 20px">160</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--引入页脚-->
    <div th:replace="footer.html"></div>
    <!-- 全局js -->
    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/js/bootstrap/js/bootstrap.min.js}"></script>
    <!-- bootstrap-table列表-->
    <script type="text/javascript"
            th:src="@{/js/bootstrap/js/bootstrap-table.js}"></script>
    <script type="text/javascript"
            th:src="@{/js/bootstrap/js/bootstrap-table-zh-CN.js}"></script>
    <!--引入layui的js-->
    <script type="text/javascript"
            th:src="@{/js/layui/layui.all.js}"></script>
    <!--引入标签js-->
    <script type="text/javascript"
            th:src="@{/js/hotLabel/hotLabel.js}"></script>
    <!-- js 方法 -->
    <script th:inline="javascript">
        //<![CDATA[
        $(function () {
            //初始化热门标签
            initLabel();
            //打印当前登录用户
            console.log([[${session.loginUser}]]);
            var loginUser = [[${session.loginUser}]];
            if (loginUser === null) {
                $("#loginBtn").css("display","");
            }else {
                $("#logoutBtn").css("display","");
            }
        });

        //初始化热门标签列表
        function initLabel() {
            var urls = [[@{/label/labelController/queryHotLabel}]];
            //1.请求url   2.标签页div的id
            initHotLabel(urls,"label_ul");
        }

        //]]>
    </script>
</body>
</html>